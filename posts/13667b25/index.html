<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="theme-color" content="#0078E7"><meta name="author" content="gzj"><meta name="copyright" content="gzj"><meta name="generator" content="Hexo 5.3.0"><meta name="theme" content="hexo-theme-yun"><title>mybatisPlusç¬”è®° | gzj-blogs</title><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@900&amp;display=swap" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/star-markdown-css@0.1.22/dist/yun/yun-markdown.min.css"><script src="//at.alicdn.com/t/font_1140697_ed8vp4atwoj.js" async></script><script src="https://cdn.jsdelivr.net/npm/scrollreveal/dist/scrollreveal.min.js" defer></script><script>document.addEventListener("DOMContentLoaded", () => {
  [".post-card",".post-content img"].forEach((target)=> {
    ScrollReveal().reveal(target);
  })
});
</script><link class="aplayer-style-marker" rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/aplayer@latest/dist/APlayer.min.css"><script class="aplayer-script-marker" src="https://cdn.jsdelivr.net/npm/aplayer@latest/dist/APlayer.min.js" defer></script><script class="meting-script-marker" src="https://cdn.jsdelivr.net/npm/meting@1/dist/Meting.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/pjax@latest/pjax.min.js" defer></script><script src="/jsax.js" defer></script><script src="https://cdn.jsdelivr.net/npm/vue@2.6.11"></script><link id="light-prism-css" rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.20.0/themes/prism.css" media="(prefers-color-scheme: light)"><link id="dark-prism-css" rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.20.0/themes/prism-tomorrow.css" media="(prefers-color-scheme: dark)"><link rel="shortcut icon" type="image/svg+xml" href="/yun.svg"><link rel="mask-icon" href="/yun.svg" color="#0078E7"><link rel="alternate icon" href="/yun.ico"><link rel="preload" href="/css/hexo-theme-yun.css" as="style"><link rel="preload" href="/js/utils.js" as="script"><link rel="preload" href="/js/hexo-theme-yun.js" as="script"><link rel="prefetch" href="/js/sidebar.js" as="script"><link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin><link rel="stylesheet" href="/css/hexo-theme-yun.css"><link rel="alternate" href="/atom.xml" title="gzj-blogs" type="application/atom+xml"><script id="yun-config">
    const Yun = window.Yun || {};
    window.CONFIG = {"hostname":"zzugzj.github.io","root":"/","title":"å‹¿åœ¨æµ®æ²™ç­‘é«˜å°","version":"1.3.0","mode":"auto","copycode":true,"anonymous_image":"https://cdn.jsdelivr.net/gh/YunYouJun/cdn/img/avatar/none.jpg","say":{"api":"https://v1.hitokoto.cn","hitokoto":true},"local_search":{"path":"/search.xml"},"fireworks":{"colors":["102, 167, 221","62, 131, 225","33, 78, 194"]}};
  </script><meta name="description" content="MyBatis-Plusï¼ˆç®€ç§° MPï¼‰æ˜¯ä¸€ä¸ª MyBatis çš„å¢å¼ºå·¥å…·ï¼Œåœ¨ MyBatis çš„åŸºç¡€ä¸Šåªåšå¢å¼ºä¸åšæ”¹å˜ï¼Œä¸ºç®€åŒ–å¼€å‘ã€æé«˜æ•ˆç‡è€Œç”Ÿã€‚">
<meta property="og:type" content="article">
<meta property="og:title" content="mybatisPlusç¬”è®°">
<meta property="og:url" content="https://zzugzj.github.io/posts/13667b25/index.html">
<meta property="og:site_name" content="gzj-blogs">
<meta property="og:description" content="MyBatis-Plusï¼ˆç®€ç§° MPï¼‰æ˜¯ä¸€ä¸ª MyBatis çš„å¢å¼ºå·¥å…·ï¼Œåœ¨ MyBatis çš„åŸºç¡€ä¸Šåªåšå¢å¼ºä¸åšæ”¹å˜ï¼Œä¸ºç®€åŒ–å¼€å‘ã€æé«˜æ•ˆç‡è€Œç”Ÿã€‚">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://gitee.com/gzj1999/blogImg/raw/master/img/bc4cbff4-c2b8-45d5-ae8d-53439dd2330c.png">
<meta property="article:published_time" content="2021-01-12T08:16:58.000Z">
<meta property="article:modified_time" content="2021-01-13T06:25:59.540Z">
<meta property="article:author" content="gzj">
<meta property="article:tag" content="å­¦ä¹ ç¬”è®°">
<meta property="article:tag" content="mybatisPlus">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://gitee.com/gzj1999/blogImg/raw/master/img/bc4cbff4-c2b8-45d5-ae8d-53439dd2330c.png"><script src="/js/ui/mode.js"></script></head><body><script defer src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script defer src="/js/ui/fireworks.js"></script><canvas class="fireworks"></canvas><div class="container"><a class="sidebar-toggle hty-icon-button" id="menu-btn"><div class="hamburger hamburger--spin" type="button"><span class="hamburger-box"><span class="hamburger-inner"></span></span></div></a><div class="sidebar-toggle sidebar-overlay"></div><aside class="sidebar"><script src="/js/sidebar.js"></script><ul class="sidebar-nav"><li class="sidebar-nav-item sidebar-nav-toc hty-icon-button sidebar-nav-active" data-target="post-toc-wrap" title="æ–‡ç« ç›®å½•"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-list-ordered"></use></svg></li><li class="sidebar-nav-item sidebar-nav-overview hty-icon-button" data-target="site-overview-wrap" title="ç«™ç‚¹æ¦‚è§ˆ"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-passport-line"></use></svg></li></ul><div class="sidebar-panel" id="site-overview-wrap"><div class="site-info fix-top"><a class="site-author-avatar" href="/about/" title="gzj"><img width="96" loading="lazy" src="/images/avatar.jpg" alt="gzj"><span class="site-author-status" title="ä¸æƒ³ä¸Šç­">ğŸ˜­</span></a><div class="site-author-name"><a href="/about/">gzj</a></div><a class="site-name" href="/about/site.html">gzj-blogs</a><sub class="site-subtitle"></sub><div class="site-desciption"></div></div><nav class="site-state"><a class="site-state-item hty-icon-button icon-home" href="/" title="é¦–é¡µ"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-home-4-line"></use></svg></span></a><div class="site-state-item"><a href="/archives/" title="å½’æ¡£"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-archive-line"></use></svg></span><span class="site-state-item-count">28</span></a></div><div class="site-state-item"><a href="/categories/" title="åˆ†ç±»"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-folder-2-line"></use></svg></span><span class="site-state-item-count">8</span></a></div><div class="site-state-item"><a href="/tags/" title="æ ‡ç­¾"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="site-state-item-count">12</span></a></div><a class="site-state-item hty-icon-button" href="/about" title="æ–‡æ¡£"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-settings-line"></use></svg></span></a></nav><hr style="margin-bottom:0.5rem"><div class="links-of-author"><a class="links-of-author-item hty-icon-button" rel="noopener" href="/atom.xml" title="RSS" target="_blank" style="color:orange"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-rss-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://github.com/zzugzj" title="GitHub" target="_blank" style="color:#6e5494"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-github-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://music.163.com/#/user/home?id=1317412612" title="ç½‘æ˜“äº‘éŸ³ä¹" target="_blank" style="color:#C20C0C"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-netease-cloud-music-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="mailto:1045643052@qq.com" title="E-Mail" target="_blank" style="color:#8E71C1"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-mail-line"></use></svg></a></div><br><a class="links-item hty-icon-button" id="toggle-mode-btn" href="javascript:;" title="Mode" style="color: #f1cb64"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-contrast-2-line"></use></svg></a></div><div class="sidebar-panel sidebar-panel-active" id="post-toc-wrap"><div class="post-toc"><div class="post-toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#mybatis-plus%E7%9A%84yml%E5%B8%B8%E7%94%A8%E9%85%8D%E7%BD%AE"><span class="toc-number">1.</span> <span class="toc-text">mybatis-plusçš„ymlå¸¸ç”¨é…ç½®</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#crud%E6%93%8D%E4%BD%9C"><span class="toc-number">2.</span> <span class="toc-text">crudæ“ä½œ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8F%92%E5%85%A5%E6%93%8D%E4%BD%9C"><span class="toc-number">2.1.</span> <span class="toc-text">æ’å…¥æ“ä½œ</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8F%92%E5%85%A5%E6%97%B6%E7%9A%84%E4%B8%BB%E9%94%AE%E7%AD%96%E7%95%A5"><span class="toc-number">2.1.1.</span> <span class="toc-text">æ’å…¥æ—¶çš„ä¸»é”®ç­–ç•¥</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9B%B4%E6%96%B0%E6%93%8D%E4%BD%9C"><span class="toc-number">2.2.</span> <span class="toc-text">æ›´æ–°æ“ä½œ</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A0%B9%E6%8D%AEId%E6%9B%B4%E6%96%B0%E6%93%8D%E4%BD%9C"><span class="toc-number">2.2.1.</span> <span class="toc-text">æ ¹æ®Idæ›´æ–°æ“ä½œ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%87%AA%E5%8A%A8%E5%A1%AB%E5%85%85"><span class="toc-number">2.2.2.</span> <span class="toc-text">è‡ªåŠ¨å¡«å……</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B9%90%E8%A7%82%E9%94%81"><span class="toc-number">2.2.3.</span> <span class="toc-text">ä¹è§‚é”</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2%E6%93%8D%E4%BD%9C"><span class="toc-number">2.3.</span> <span class="toc-text">æŸ¥è¯¢æ“ä½œ</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%9A%E8%BF%87%E5%A4%9A%E4%B8%AAid%E6%89%B9%E9%87%8F%E6%9F%A5%E8%AF%A2"><span class="toc-number">2.3.1.</span> <span class="toc-text">é€šè¿‡å¤šä¸ªidæ‰¹é‡æŸ¥è¯¢</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AE%80%E5%8D%95%E7%9A%84%E6%9D%A1%E4%BB%B6%E6%9F%A5%E8%AF%A2"><span class="toc-number">2.3.2.</span> <span class="toc-text">ç®€å•çš„æ¡ä»¶æŸ¥è¯¢</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%86%E9%A1%B5%E6%9F%A5%E8%AF%A2"><span class="toc-number">2.3.3.</span> <span class="toc-text">åˆ†é¡µæŸ¥è¯¢</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E6%93%8D%E4%BD%9C"><span class="toc-number">2.4.</span> <span class="toc-text">åˆ é™¤æ“ä½œ</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A0%B9%E6%8D%AEid%E5%88%A0%E9%99%A4%E8%AE%B0%E5%BD%95"><span class="toc-number">2.4.1.</span> <span class="toc-text">æ ¹æ®idåˆ é™¤è®°å½•</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%89%B9%E9%87%8F%E5%88%A0%E9%99%A4"><span class="toc-number">2.4.2.</span> <span class="toc-text">æ‰¹é‡åˆ é™¤</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%BB%E8%BE%91%E5%88%A0%E9%99%A4"><span class="toc-number">2.4.3.</span> <span class="toc-text">é€»è¾‘åˆ é™¤</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%A7%E8%83%BD%E5%88%86%E6%9E%90"><span class="toc-number">3.</span> <span class="toc-text">æ€§èƒ½åˆ†æ</span></a></li></ol></div></div></div></aside><main class="sidebar-translate" id="content"><div id="post"><article class="post-block" itemscope itemtype="https://schema.org/Article"><link itemprop="mainEntityOfPage" href="https://zzugzj.github.io/posts/13667b25/"><span hidden itemprop="author" itemscope itemtype="https://schema.org/Person"><meta itemprop="name" content="gzj"><meta itemprop="description"></span><span hidden itemprop="publisher" itemscope itemtype="https://schema.org/Organization"><meta itemprop="name" content="gzj-blogs"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">mybatisPlusç¬”è®°</h1><div class="post-meta"><div class="post-time" style="display:block"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-calendar-line"></use></svg></span> <span class="post-meta-icon-text">å‘è¡¨äº</span> <time title="åˆ›å»ºæ—¶é—´ï¼š2021-01-12 16:16:58" itemprop="dateCreated datePublished" datetime="2021-01-12T16:16:58+08:00">2021-01-12</time><span class="post-meta-divider">-</span><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-calendar-2-line"></use></svg></span> <span class="post-meta-icon-text">æ›´æ–°äº</span> <time title="ä¿®æ”¹æ—¶é—´ï¼š2021-01-13 14:25:59" itemprop="dateModified" datetime="2021-01-13T14:25:59+08:00">2021-01-13</time></div><span class="post-count"><span class="post-symbolcount"><span class="post-meta-item-icon" title="æœ¬æ–‡å­—æ•°"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-file-word-line"></use></svg></span> <span title="æœ¬æ–‡å­—æ•°">2.8k</span><span class="post-meta-divider">-</span><span class="post-meta-item-icon" title="é˜…è¯»æ—¶é•¿"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-timer-line"></use></svg></span> <span title="é˜…è¯»æ—¶é•¿">12m</span></span></span><div class="post-classify"><span class="post-category"> <span class="post-meta-item-icon" style="margin-right:3px;"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-folder-line"></use></svg></span><span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a class="category" href="/categories/mybatis/" style="--text-color:var(--hty-text-color)" itemprop="url" rel="index"><span itemprop="text">mybatis</span></a></span></span><span class="post-tag"><span class="post-meta-divider">-</span><a class="tag" href="/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" style="--text-color:var(--hty-text-color)"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="tag-name">å­¦ä¹ ç¬”è®°</span></a><a class="tag" href="/tags/mybatisPlus/" style="--text-color:var(--hty-text-color)"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="tag-name">mybatisPlus</span></a></span></div></div></header><section class="post-body" itemprop="articleBody"><div class="post-content markdown-body" style="--smc-primary:#0078E7;"><p>ç‰ˆæœ¬ï¼š3.4.1</p>
<h2 id="mybatis-plusçš„ymlå¸¸ç”¨é…ç½®"><a href="#mybatis-plusçš„ymlå¸¸ç”¨é…ç½®" class="headerlink" title="mybatis-plusçš„ymlå¸¸ç”¨é…ç½®"></a>mybatis-plusçš„ymlå¸¸ç”¨é…ç½®</h2><pre class="language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">mybatis-plus</span><span class="token punctuation">:</span>
  <span class="token comment"># Mapper.xml æ–‡ä»¶ä½ç½® Maven å¤šæ¨¡å—é¡¹ç›®çš„æ‰«æè·¯å¾„éœ€ä»¥ classpath*: å¼€å¤´</span>
  <span class="token key atrule">mapperLocations</span><span class="token punctuation">:</span> classpath<span class="token important">*:com/vanhr/**/xml/*Mapper.xml</span>
<span class="token comment">#  #é€šè¿‡çˆ¶ç±»ï¼ˆæˆ–å®ç°æ¥å£ï¼‰çš„æ–¹å¼æ¥é™å®šæ‰«æå®ä½“</span>
<span class="token comment">#  typeAliasesSuperType: com.vanhr.user.dao.entity.baseEntity</span>
<span class="token comment">#  #æšä¸¾ç±» æ‰«æè·¯å¾„ å¦‚æœé…ç½®äº†è¯¥å±æ€§ï¼Œä¼šå°†è·¯å¾„ä¸‹çš„æšä¸¾ç±»è¿›è¡Œæ³¨å…¥ï¼Œè®©å®ä½“ç±»å­—æ®µèƒ½å¤Ÿç®€å•å¿«æ·çš„ä½¿ç”¨æšä¸¾å±æ€§</span>
<span class="token comment">#  typeEnumsPackage: com.vanhr.user.dao.enums</span>
<span class="token comment">#  #é€šè¿‡è¯¥å±æ€§å¯æŒ‡å®š MyBatis çš„æ‰§è¡Œå™¨ï¼ŒMyBatis çš„æ‰§è¡Œå™¨æ€»å…±æœ‰ä¸‰ç§ï¼š</span>
<span class="token comment">#  # ExecutorType.SIMPLEï¼šè¯¥æ‰§è¡Œå™¨ç±»å‹ä¸åšç‰¹æ®Šçš„äº‹æƒ…ï¼Œä¸ºæ¯ä¸ªè¯­å¥çš„æ‰§è¡Œåˆ›å»ºä¸€ä¸ªæ–°çš„é¢„å¤„ç†è¯­å¥ï¼ˆPreparedStatementï¼‰</span>
<span class="token comment">#  # ExecutorType.REUSEï¼šè¯¥æ‰§è¡Œå™¨ç±»å‹ä¼šå¤ç”¨é¢„å¤„ç†è¯­å¥ï¼ˆPreparedStatementï¼‰</span>
<span class="token comment">#  # ExecutorType.BATCHï¼šè¯¥æ‰§è¡Œå™¨ç±»å‹ä¼šæ‰¹é‡æ‰§è¡Œæ‰€æœ‰çš„æ›´æ–°è¯­å¥</span>
<span class="token comment">#  executorType: SIMPLE</span>
<span class="token comment">#  # æŒ‡å®šå¤–éƒ¨åŒ– MyBatis Properties é…ç½®ï¼Œé€šè¿‡è¯¥é…ç½®å¯ä»¥æŠ½ç¦»é…ç½®ï¼Œå®ç°ä¸åŒç¯å¢ƒçš„é…ç½®éƒ¨ç½²</span>
<span class="token comment">#  configurationProperties:</span>
  <span class="token key atrule">configuration</span><span class="token punctuation">:</span> <span class="token comment"># MyBatis åŸç”Ÿæ”¯æŒçš„é…ç½®</span>
    <span class="token key atrule">log-impl</span><span class="token punctuation">:</span> org.apache.ibatis.logging.stdout.StdOutImpl <span class="token comment">#æ—¥å¿—è¾“å‡º</span>
    <span class="token comment"># æ˜¯å¦å¼€å¯è‡ªåŠ¨é©¼å³°å‘½åè§„åˆ™ï¼ˆcamel caseï¼‰æ˜ å°„</span>
    <span class="token key atrule">mapUnderscoreToCamelCase</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
    <span class="token comment"># æšä¸¾å¤„ç†ç±»,å¦‚æœé…ç½®äº†è¯¥å±æ€§,æšä¸¾å°†ç»Ÿä¸€ä½¿ç”¨æŒ‡å®šå¤„ç†å™¨è¿›è¡Œå¤„ç†</span>
    <span class="token comment">#   org.apache.ibatis.type.EnumTypeHandler : å­˜å‚¨æšä¸¾çš„åç§°</span>
    <span class="token comment">#   org.apache.ibatis.type.EnumOrdinalTypeHandler : å­˜å‚¨æšä¸¾çš„ç´¢å¼•</span>
    <span class="token comment">#   com.baomidou.mybatisplus.extension.handlers.MybatisEnumTypeHandler : æšä¸¾ç±»éœ€è¦å®ç°IEnumæ¥å£æˆ–å­—æ®µæ ‡è®°@EnumValueæ³¨è§£.(3.1.2ä»¥ä¸‹ç‰ˆæœ¬ä¸ºEnumTypeHandler)</span>
<span class="token comment">#    defaultEnumTypeHandler: com.baomidou.mybatisplus.extension.handlers.MybatisEnumTypeHandler</span>
    <span class="token comment"># é…ç½®JdbcTypeForNull, oracleæ•°æ®åº“å¿…é¡»é…ç½®</span>
    <span class="token key atrule">jdbc-type-for-null</span><span class="token punctuation">:</span> <span class="token null important">null</span>
  <span class="token key atrule">global-config</span><span class="token punctuation">:</span> <span class="token comment"># å…¨å±€ç­–ç•¥é…ç½®</span>
    <span class="token comment"># æ˜¯å¦æ§åˆ¶å° print mybatis-plus çš„ LOGO</span>
    <span class="token key atrule">banner</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
    <span class="token key atrule">db-config</span><span class="token punctuation">:</span>
      <span class="token comment"># idç±»å‹</span>
      <span class="token key atrule">id-type</span><span class="token punctuation">:</span> auto
      <span class="token comment"># è¡¨åæ˜¯å¦ä½¿ç”¨ä¸‹åˆ’çº¿å‘½åï¼Œé»˜è®¤æ•°æ®åº“è¡¨ä½¿ç”¨ä¸‹åˆ’çº¿å‘½å</span>
      <span class="token key atrule">table-underline</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
      <span class="token comment">#æ˜¯å¦å¼€å¯å¤§å†™å‘½åï¼Œé»˜è®¤ä¸å¼€å¯</span>
<span class="token comment">#      capital-mode: false</span>
<span class="token comment">#      #é€»è¾‘å·²åˆ é™¤å€¼,(é€»è¾‘åˆ é™¤ä¸‹æœ‰æ•ˆ) éœ€è¦æ³¨å…¥é€»è¾‘ç­–ç•¥LogicSqlInjector ä»¥@Beanæ–¹å¼æ³¨å…¥</span>
<span class="token comment">#      logic-not-delete-value: 0</span>
<span class="token comment">#      #é€»è¾‘æœªåˆ é™¤å€¼,(é€»è¾‘åˆ é™¤ä¸‹æœ‰æ•ˆ)</span>
<span class="token comment">#      logic-delete-value: 1</span></code></pre>
<h2 id="crudæ“ä½œ"><a href="#crudæ“ä½œ" class="headerlink" title="crudæ“ä½œ"></a>crudæ“ä½œ</h2><h3 id="æ’å…¥æ“ä½œ"><a href="#æ’å…¥æ“ä½œ" class="headerlink" title="æ’å…¥æ“ä½œ"></a>æ’å…¥æ“ä½œ</h3><pre class="language-none"><code class="language-none">@SpringBootTest
public class CRUDTests &#123;
    @Autowired
    private UserMapper userMapper;
    @Test
    public void testInsert()&#123;
        User user &#x3D; new User();
        user.setName(&quot;Helen&quot;);
        user.setAge(18);
        user.setEmail(&quot;55317332@qq.com&quot;);
        int result &#x3D; userMapper.insert(user);
        System.out.println(result); &#x2F;&#x2F;å½±å“çš„è¡Œæ•°
        System.out.println(user); &#x2F;&#x2F;idè‡ªåŠ¨å›å¡«
    &#125;
&#125;</code></pre>
<h4 id="æ’å…¥æ—¶çš„ä¸»é”®ç­–ç•¥"><a href="#æ’å…¥æ—¶çš„ä¸»é”®ç­–ç•¥" class="headerlink" title="æ’å…¥æ—¶çš„ä¸»é”®ç­–ç•¥"></a>æ’å…¥æ—¶çš„ä¸»é”®ç­–ç•¥</h4><p>MP æ”¯æŒå¤šç§ä¸»é”®ç­–ç•¥ é»˜è®¤æ˜¯æ¨ç‰¹çš„â€œé›ªèŠ±ç®—æ³•â€œ ï¼Œä¹Ÿå¯ä»¥è®¾ç½®å…¶ä»–ç­–ç•¥ã€‚</p>
<p><strong>IdType</strong></p>
<table>
<thead>
<tr>
<th align="center">å€¼</th>
<th align="center">æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td align="center">AUTO</td>
<td align="center">æ•°æ®åº“IDè‡ªå¢</td>
</tr>
<tr>
<td align="center">NONE</td>
<td align="center">æ— çŠ¶æ€,è¯¥ç±»å‹ä¸ºæœªè®¾ç½®ä¸»é”®ç±»å‹(æ³¨è§£é‡Œç­‰äºè·Ÿéšå…¨å±€,å…¨å±€é‡Œçº¦ç­‰äº INPUT)ï¼Œé»˜è®¤æ ¹æ®é›ªèŠ±ç®—æ³•ç”Ÿæˆ</td>
</tr>
<tr>
<td align="center">INPUT</td>
<td align="center">insertå‰è‡ªè¡Œsetä¸»é”®å€¼</td>
</tr>
<tr>
<td align="center">ASSIGN_ID</td>
<td align="center">åˆ†é…ID(ä¸»é”®ç±»å‹ä¸ºNumber(Longå’ŒInteger)æˆ–String)(since 3.3.0),ä½¿ç”¨æ¥å£<code>IdentifierGenerator</code>çš„æ–¹æ³•<code>nextId</code>(é»˜è®¤å®ç°ç±»ä¸º<code>DefaultIdentifierGenerator</code>é›ªèŠ±ç®—æ³•)</td>
</tr>
<tr>
<td align="center">ASSIGN_UUID</td>
<td align="center">åˆ†é…UUID,ä¸»é”®ç±»å‹ä¸ºString(since 3.3.0),ä½¿ç”¨æ¥å£<code>IdentifierGenerator</code>çš„æ–¹æ³•<code>nextUUID</code>(é»˜è®¤defaultæ–¹æ³•)</td>
</tr>
</tbody></table>
<p><strong>ç›¸å…³èµ„æ–™ï¼šåˆ†å¸ƒå¼ç³»ç»Ÿå”¯ä¸€IDç”Ÿæˆæ–¹æ¡ˆæ±‡æ€»ï¼š</strong><a target="_blank" rel="noopener" href="https://www.cnblogs.com/haoxinyue/p/5208136.html">https://www.cnblogs.com/haoxinyue/p/5208136.html</a></p>
<p>è¦æƒ³å½±å“æ‰€æœ‰å®ä½“çš„é…ç½®ï¼Œå¯ä»¥è®¾ç½®å…¨å±€ä¸»é”®é…ç½®</p>
<pre class="language-none"><code class="language-none">#å…¨å±€è®¾ç½®ä¸»é”®ç”Ÿæˆç­–ç•¥
mybatis-plus.global-config.db-config.id-type&#x3D;auto</code></pre>
<h3 id="æ›´æ–°æ“ä½œ"><a href="#æ›´æ–°æ“ä½œ" class="headerlink" title="æ›´æ–°æ“ä½œ"></a>æ›´æ–°æ“ä½œ</h3><h4 id="æ ¹æ®Idæ›´æ–°æ“ä½œ"><a href="#æ ¹æ®Idæ›´æ–°æ“ä½œ" class="headerlink" title="æ ¹æ®Idæ›´æ–°æ“ä½œ"></a>æ ¹æ®Idæ›´æ–°æ“ä½œ</h4><p><strong>æ³¨æ„ï¼š</strong>updateæ—¶ç”Ÿæˆçš„sqlè‡ªåŠ¨æ˜¯åŠ¨æ€sqlï¼šUPDATE user SET age=? WHERE id=? </p>
<pre class="language-none"><code class="language-none">@Test
public void testUpdateById()&#123;
    User user &#x3D; new User();
    user.setId(1L);
    user.setAge(28);
    int result &#x3D; userMapper.updateById(user);
    System.out.println(result);
&#125;</code></pre>
<h4 id="è‡ªåŠ¨å¡«å……"><a href="#è‡ªåŠ¨å¡«å……" class="headerlink" title="è‡ªåŠ¨å¡«å……"></a>è‡ªåŠ¨å¡«å……</h4><p>é¡¹ç›®ä¸­ç»å¸¸ä¼šé‡åˆ°ä¸€äº›æ•°æ®ï¼Œæ¯æ¬¡éƒ½ä½¿ç”¨ç›¸åŒçš„æ–¹å¼å¡«å……ï¼Œä¾‹å¦‚è®°å½•çš„åˆ›å»ºæ—¶é—´ï¼Œæ›´æ–°æ—¶é—´ç­‰ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨MyBatis Plusçš„è‡ªåŠ¨å¡«å……åŠŸèƒ½ï¼Œå®Œæˆè¿™äº›å­—æ®µçš„èµ‹å€¼å·¥ä½œï¼š</p>
<p>é¦–å…ˆåœ¨å®ä½“ä¸Šæ·»åŠ æ³¨è§£<code>@TableField(fill = FieldFill.INSERT)</code>ï¼Œç„¶åå®ç°å…ƒå¯¹è±¡å¤„ç†å™¨æ¥å£ï¼Œä¸è¦åœ¨ç±»ä¸Šå¿˜è®°æ·»åŠ  @Component æ³¨è§£ã€‚</p>
<pre class="language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Component</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyMetaObjectHandler</span> <span class="token keyword">implements</span> <span class="token class-name">MetaObjectHandler</span> <span class="token punctuation">&#123;</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">insertFill</span><span class="token punctuation">(</span><span class="token class-name">MetaObject</span> metaObject<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token comment">//æ’å…¥æ“ä½œ</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setFieldValByName</span><span class="token punctuation">(</span><span class="token string">"createTime"</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> metaObject<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setFieldValByName</span><span class="token punctuation">(</span><span class="token string">"updateTime"</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> metaObject<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">updateFill</span><span class="token punctuation">(</span><span class="token class-name">MetaObject</span> metaObject<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token comment">//æ›´æ–°æ“ä½œ</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setFieldValByName</span><span class="token punctuation">(</span><span class="token string">"updateTime"</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> metaObject<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code></pre>
<p>FieldFillç±»çš„ä¸€äº›å±æ€§ï¼š</p>
<pre class="language-none"><code class="language-none">&#x2F;**
* é»˜è®¤ä¸å¤„ç†
*&#x2F;
DEFAULT,
&#x2F;**
* æ’å…¥æ—¶å¡«å……å­—æ®µ
*&#x2F;
INSERT,
&#x2F;**
* æ›´æ–°æ—¶å¡«å……å­—æ®µ
*&#x2F;
UPDATE,
&#x2F;**
* æ’å…¥å’Œæ›´æ–°æ—¶å¡«å……å­—æ®µ
*&#x2F;
INSERT_UPDATE</code></pre>
<h4 id="ä¹è§‚é”"><a href="#ä¹è§‚é”" class="headerlink" title="ä¹è§‚é”"></a>ä¹è§‚é”</h4><p><strong>OptimisticLockerInnerInterceptor</strong></p>
<blockquote>
<p>å½“è¦æ›´æ–°ä¸€æ¡è®°å½•çš„æ—¶å€™ï¼Œå¸Œæœ›è¿™æ¡è®°å½•æ²¡æœ‰è¢«åˆ«äººæ›´æ–°<br>ä¹è§‚é”å®ç°æ–¹å¼ï¼š</p>
<blockquote>
<ul>
<li>å–å‡ºè®°å½•æ—¶ï¼Œè·å–å½“å‰version</li>
<li>æ›´æ–°æ—¶ï¼Œå¸¦ä¸Šè¿™ä¸ªversion</li>
<li>æ‰§è¡Œæ›´æ–°æ—¶ï¼Œ set version = newVersion where version = oldVersion</li>
<li>å¦‚æœversionä¸å¯¹ï¼Œå°±æ›´æ–°å¤±è´¥</li>
</ul>
</blockquote>
</blockquote>
<p>é¦–å…ˆæ•°æ®åº“è¡¨è¦åŠ versionå­—æ®µï¼Œç„¶åå­—æ®µä¸ŠåŠ ä¸Š<code>@Version</code>æ³¨è§£ï¼Œç„¶åå…ƒå¯¹è±¡å¤„ç†å™¨æ¥å£æ·»åŠ versionçš„inserté»˜è®¤å€¼ã€‚</p>
<pre class="language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Version</span>
<span class="token annotation punctuation">@TableField</span><span class="token punctuation">(</span>fill <span class="token operator">=</span> <span class="token class-name">FieldFill</span><span class="token punctuation">.</span>INSERT<span class="token punctuation">)</span><span class="token comment">//ä¹Ÿå¯ä»¥è®¾ç½®æ•°æ®åº“defaultå€¼</span>
<span class="token keyword">private</span> <span class="token class-name">Integer</span> version<span class="token punctuation">;</span><span class="token comment">//versionè¦æœ‰åˆå§‹å€¼ï¼Œå¯ä»¥ä½¿ç”¨è‡ªåŠ¨å¡«å……</span></code></pre>
<p>è¯´æ˜:</p>
<ul>
<li><strong>æ”¯æŒçš„æ•°æ®ç±»å‹åªæœ‰:int,Integer,long,Long,Date,Timestamp,LocalDateTime</strong></li>
<li>æ•´æ•°ç±»å‹ä¸‹ <code>newVersion = oldVersion + 1</code></li>
<li><code>newVersion</code> ä¼šå›å†™åˆ° <code>entity</code> ä¸­</li>
<li>ä»…æ”¯æŒ <code>updateById(id)</code> ä¸ <code>update(entity, wrapper)</code> æ–¹æ³•</li>
<li><strong>åœ¨ <code>update(entity, wrapper)</code> æ–¹æ³•ä¸‹, <code>wrapper</code> ä¸èƒ½å¤ç”¨!!!</strong></li>
</ul>
<p><strong>3.4ç‰ˆæœ¬åçš„é…ç½®å†™æ³•ï¼šï¼ˆå¦‚æœå¯¹å¤šä¸ªæ’ä»¶è¿›è¡Œé…ç½®(æœ¬ä¾‹æ˜¯ä¹è§‚é”å’Œåˆ†é¡µ)ï¼Œè¦å†™åœ¨ä¸€ä¸ªæ–¹æ³•å†…ï¼‰</strong></p>
<pre class="language-none"><code class="language-none">@Bean
public MybatisPlusInterceptor mybatisPlusInterceptor() &#123;
    MybatisPlusInterceptor interceptor &#x3D; new MybatisPlusInterceptor();
    interceptor.addInnerInterceptor(new OptimisticLockerInnerInterceptor()); &#x2F;&#x2F; ä¹è§‚é”æ’ä»¶
    &#x2F;&#x2F; DbTypeï¼šæ•°æ®åº“ç±»å‹(æ ¹æ®ç±»å‹è·å–åº”ä½¿ç”¨çš„åˆ†é¡µæ–¹è¨€)
    interceptor.addInnerInterceptor(new PaginationInnerInterceptor(DbType.MYSQL)); &#x2F;&#x2F; åˆ†é¡µæ’ä»¶
    return interceptor;
&#125;</code></pre>
<h3 id="æŸ¥è¯¢æ“ä½œ"><a href="#æŸ¥è¯¢æ“ä½œ" class="headerlink" title="æŸ¥è¯¢æ“ä½œ"></a>æŸ¥è¯¢æ“ä½œ</h3><h4 id="é€šè¿‡å¤šä¸ªidæ‰¹é‡æŸ¥è¯¢"><a href="#é€šè¿‡å¤šä¸ªidæ‰¹é‡æŸ¥è¯¢" class="headerlink" title="é€šè¿‡å¤šä¸ªidæ‰¹é‡æŸ¥è¯¢"></a><strong>é€šè¿‡å¤šä¸ªidæ‰¹é‡æŸ¥è¯¢</strong></h4><p>å®Œæˆäº†åŠ¨æ€sqlçš„foreachçš„åŠŸèƒ½</p>
<pre class="language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testSelectBatchIds</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>userMapper<span class="token punctuation">.</span><span class="token function">selectBatchIds</span><span class="token punctuation">(</span><span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span></code></pre>
<h4 id="ç®€å•çš„æ¡ä»¶æŸ¥è¯¢"><a href="#ç®€å•çš„æ¡ä»¶æŸ¥è¯¢" class="headerlink" title="ç®€å•çš„æ¡ä»¶æŸ¥è¯¢"></a><strong>ç®€å•çš„æ¡ä»¶æŸ¥è¯¢</strong></h4><p>é€šè¿‡Wrapperå°è£…æŸ¥è¯¢æ¡ä»¶</p>
<pre class="language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testSelectByMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    <span class="token comment">//é€šè¿‡lambda</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>userMapper<span class="token punctuation">.</span><span class="token function">selectList</span><span class="token punctuation">(</span><span class="token class-name">Wrappers</span><span class="token punctuation">.</span><span class="token function">lambdaQuery</span><span class="token punctuation">(</span><span class="token class-name">User</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">eq</span><span class="token punctuation">(</span><span class="token class-name">User</span><span class="token operator">::</span><span class="token function">getName</span><span class="token punctuation">,</span> <span class="token string">"Jone"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">eq</span><span class="token punctuation">(</span><span class="token class-name">User</span><span class="token operator">::</span><span class="token function">getAge</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//ä¸ç”¨lambda</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>userMapper<span class="token punctuation">.</span><span class="token function">selectList</span><span class="token punctuation">(</span><span class="token class-name">Wrappers</span><span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">eq</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">,</span> <span class="token string">"Jone"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">eq</span><span class="token punctuation">(</span><span class="token string">"age"</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span></code></pre>
<p><strong>æ³¨æ„ï¼š</strong>mapä¸­çš„keyå¯¹åº”çš„æ˜¯æ•°æ®åº“ä¸­çš„åˆ—åã€‚ä¾‹å¦‚æ•°æ®åº“user_idï¼Œå®ä½“ç±»æ˜¯userIdï¼Œè¿™æ—¶mapçš„keyéœ€è¦å¡«å†™user_id</p>
<h4 id="åˆ†é¡µæŸ¥è¯¢"><a href="#åˆ†é¡µæŸ¥è¯¢" class="headerlink" title="åˆ†é¡µæŸ¥è¯¢"></a>åˆ†é¡µæŸ¥è¯¢</h4><p>MyBatis Plusè‡ªå¸¦åˆ†é¡µæ’ä»¶ï¼Œåªè¦ç®€å•çš„é…ç½®å³å¯å®ç°åˆ†é¡µåŠŸèƒ½</p>
<p><strong>ï¼ˆ1ï¼‰åˆ›å»ºé…ç½®ç±»</strong></p>
<pre class="language-java" data-language="java"><code class="language-java"><span class="token comment">/**
 * æ–°çš„åˆ†é¡µæ’ä»¶,ä¸€ç¼“å’ŒäºŒç¼“éµå¾ªmybatisçš„è§„åˆ™,éœ€è¦è®¾ç½® 
 * MybatisConfiguration#useDeprecatedExecutor = false 
 * é¿å…ç¼“å­˜å‡ºç°é—®é¢˜(è¯¥å±æ€§ä¼šåœ¨æ—§æ’ä»¶ç§»é™¤åä¸€åŒç§»é™¤)
 */</span> 
<span class="token annotation punctuation">@Bean</span>
 <span class="token keyword">public</span> <span class="token class-name">MybatisPlusInterceptor</span> <span class="token function">mybatisPlusInterceptor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
     <span class="token class-name">PaginationInnerInterceptor</span> paginationInnerInterceptor <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PaginationInnerInterceptor</span><span class="token punctuation">(</span><span class="token class-name">DbType</span><span class="token punctuation">.</span>MYSQL<span class="token punctuation">)</span><span class="token punctuation">;</span>
        paginationInnerInterceptor<span class="token punctuation">.</span><span class="token function">setMaxLimit</span><span class="token punctuation">(</span><span class="token number">500L</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//å•é¡µåˆ†é¡µæ¡æ•°é™åˆ¶</span>
        interceptor<span class="token punctuation">.</span><span class="token function">addInnerInterceptor</span><span class="token punctuation">(</span>paginationInnerInterceptor<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// åˆ†é¡µæ’ä»¶</span>
     <span class="token keyword">return</span> interceptor<span class="token punctuation">;</span>
 <span class="token punctuation">&#125;</span>

<span class="token comment">//ä¸çŸ¥é“ä¸ºä»€ä¹ˆåŠ è¿™ä¸ªï¼Œä½†å®˜ç½‘ç¤ºä¾‹åŠ äº†ï¼Œæˆ‘ä¹ŸåŠ </span>
<span class="token annotation punctuation">@Bean</span>
<span class="token keyword">public</span> <span class="token class-name">ConfigurationCustomizer</span> <span class="token function">configurationCustomizer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> configuration <span class="token operator">-></span> configuration<span class="token punctuation">.</span><span class="token function">setUseDeprecatedExecutor</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span></code></pre>
<p><strong>ï¼ˆ2ï¼‰æµ‹è¯•selectPageåˆ†é¡µ</strong></p>
<p><strong>æµ‹è¯•ï¼š</strong>æœ€ç»ˆé€šè¿‡pageå¯¹è±¡è·å–ç›¸å…³æ•°æ®</p>
<pre class="language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testSelectPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token class-name">Page</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">></span></span> page <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Page</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    userMapper<span class="token punctuation">.</span><span class="token function">selectPage</span><span class="token punctuation">(</span>page<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    page<span class="token punctuation">.</span><span class="token function">getRecords</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token operator">::</span><span class="token function">println</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>page<span class="token punctuation">.</span><span class="token function">getCurrent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>page<span class="token punctuation">.</span><span class="token function">getPages</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>page<span class="token punctuation">.</span><span class="token function">getSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>page<span class="token punctuation">.</span><span class="token function">getTotal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>page<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>page<span class="token punctuation">.</span><span class="token function">hasPrevious</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span></code></pre>
<p>æ§åˆ¶å°sqlè¯­å¥æ‰“å°ï¼šSELECT id,name,age,email,create_time,update_time FROM user LIMIT 0,5 </p>
<p><strong>ï¼ˆ3ï¼‰æµ‹è¯•selectMapsPageåˆ†é¡µï¼šç»“æœé›†æ˜¯Map</strong></p>
<pre class="language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testSelectMapsPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token class-name">Page</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Map</span><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">></span><span class="token punctuation">></span></span> page <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Page</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">IPage</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Map</span><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">></span><span class="token punctuation">></span></span> mapIPage <span class="token operator">=</span> userMapper<span class="token punctuation">.</span><span class="token function">selectMapsPage</span><span class="token punctuation">(</span>page<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//æ³¨æ„ï¼šæ­¤è¡Œå¿…é¡»ä½¿ç”¨ mapIPage è·å–è®°å½•åˆ—è¡¨ï¼Œå¦åˆ™ä¼šæœ‰æ•°æ®ç±»å‹è½¬æ¢é”™è¯¯</span>
    mapIPage<span class="token punctuation">.</span><span class="token function">getRecords</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token operator">::</span><span class="token function">println</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>page<span class="token punctuation">.</span><span class="token function">getCurrent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>page<span class="token punctuation">.</span><span class="token function">getPages</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>page<span class="token punctuation">.</span><span class="token function">getSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>page<span class="token punctuation">.</span><span class="token function">getTotal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>page<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>page<span class="token punctuation">.</span><span class="token function">hasPrevious</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span></code></pre>
<h3 id="åˆ é™¤æ“ä½œ"><a href="#åˆ é™¤æ“ä½œ" class="headerlink" title="åˆ é™¤æ“ä½œ"></a>åˆ é™¤æ“ä½œ</h3><h4 id="æ ¹æ®idåˆ é™¤è®°å½•"><a href="#æ ¹æ®idåˆ é™¤è®°å½•" class="headerlink" title="æ ¹æ®idåˆ é™¤è®°å½•"></a>æ ¹æ®idåˆ é™¤è®°å½•</h4><pre class="language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testDeleteById</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    <span class="token keyword">int</span> result <span class="token operator">=</span> userMapper<span class="token punctuation">.</span><span class="token function">deleteById</span><span class="token punctuation">(</span><span class="token number">8L</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span></code></pre>
<h4 id="æ‰¹é‡åˆ é™¤"><a href="#æ‰¹é‡åˆ é™¤" class="headerlink" title="æ‰¹é‡åˆ é™¤"></a>æ‰¹é‡åˆ é™¤</h4><pre class="language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testDeleteBatchIds</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">int</span> result <span class="token operator">=</span> userMapper<span class="token punctuation">.</span><span class="token function">deleteBatchIds</span><span class="token punctuation">(</span><span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span></code></pre>
<h4 id="é€»è¾‘åˆ é™¤"><a href="#é€»è¾‘åˆ é™¤" class="headerlink" title="é€»è¾‘åˆ é™¤"></a>é€»è¾‘åˆ é™¤</h4><blockquote>
<p>è¯´æ˜:</p>
<p>åªå¯¹è‡ªåŠ¨æ³¨å…¥çš„sqlèµ·æ•ˆ:</p>
<ul>
<li><p>æ’å…¥: ä¸ä½œé™åˆ¶</p>
</li>
<li><p>æŸ¥æ‰¾: è¿½åŠ whereæ¡ä»¶è¿‡æ»¤æ‰å·²åˆ é™¤æ•°æ®,ä¸”ä½¿ç”¨ wrapper.entity ç”Ÿæˆçš„whereæ¡ä»¶ä¼šå¿½ç•¥è¯¥å­—æ®µ</p>
<blockquote>
<p> ä½¿ç”¨ QueryWrapper è¿›è¡ŒæŸ¥è¯¢æ—¶çš„sqlï¼Œæˆ‘ä»¬å‘ç°å‰é¢çš„<code>deleted=0</code>æ¡ä»¶ä¼šè®©åé¢æˆ‘ä»¬è‡ªå·±åŠ çš„deletedæ¡ä»¶å¤±æ•ˆ</p>
<p>SELECT * FROM test.user WHERE deleted=0 AND (deleted = ?)</p>
</blockquote>
</li>
<li><p>æ›´æ–°: è¿½åŠ whereæ¡ä»¶é˜²æ­¢æ›´æ–°åˆ°å·²åˆ é™¤æ•°æ®,ä¸”ä½¿ç”¨ wrapper.entity ç”Ÿæˆçš„whereæ¡ä»¶ä¼šå¿½ç•¥è¯¥å­—æ®µ</p>
</li>
<li><p>åˆ é™¤: è½¬å˜ä¸º æ›´æ–°</p>
</li>
</ul>
<p>ä¾‹å¦‚:</p>
<ul>
<li>åˆ é™¤: <code>update user set deleted=1 where id = 1 and deleted=0</code></li>
<li>æŸ¥æ‰¾: <code>select id,name,deleted from user where deleted=0</code></li>
</ul>
<p>å­—æ®µç±»å‹æ”¯æŒè¯´æ˜:</p>
<ul>
<li>æ”¯æŒæ‰€æœ‰æ•°æ®ç±»å‹(æ¨èä½¿ç”¨ <code>Integer</code>,<code>Boolean</code>,<code>LocalDateTime</code>)</li>
<li>å¦‚æœæ•°æ®åº“å­—æ®µä½¿ç”¨<code>datetime</code>,é€»è¾‘æœªåˆ é™¤å€¼å’Œå·²åˆ é™¤å€¼æ”¯æŒé…ç½®ä¸ºå­—ç¬¦ä¸²<code>null</code>,å¦ä¸€ä¸ªå€¼æ”¯æŒé…ç½®ä¸ºå‡½æ•°æ¥è·å–å€¼å¦‚<code>now()</code></li>
</ul>
<p>é™„å½•:</p>
<ul>
<li>å¦‚æœè¦æ¢å¤åˆ é™¤çš„æ•°æ®ï¼Œå¯ä»¥ä½¿ç”¨mybatisæ‰‹å†™sqlæ¥å®ç°ï¼Œç»•è¿‡mybatis-plus</li>
<li>é€»è¾‘åˆ é™¤æ˜¯ä¸ºäº†æ–¹ä¾¿æ•°æ®æ¢å¤å’Œä¿æŠ¤æ•°æ®æœ¬èº«ä»·å€¼ç­‰ç­‰çš„ä¸€ç§æ–¹æ¡ˆï¼Œä½†å®é™…å°±æ˜¯åˆ é™¤ã€‚</li>
<li>å¦‚æœä½ éœ€è¦é¢‘ç¹æŸ¥å‡ºæ¥çœ‹å°±ä¸åº”ä½¿ç”¨é€»è¾‘åˆ é™¤ï¼Œè€Œæ˜¯ä»¥ä¸€ä¸ªçŠ¶æ€å»è¡¨ç¤ºã€‚</li>
</ul>
</blockquote>
<p><strong>æ•°æ®åº“ä¸­æ·»åŠ  deletedå­—æ®µ</strong></p>
<pre class="language-none"><code class="language-none">ALTER TABLE &#96;user&#96; ADD COLUMN &#96;deleted&#96; boolean</code></pre>
<p><img src="https://gitee.com/gzj1999/blogImg/raw/master/img/bc4cbff4-c2b8-45d5-ae8d-53439dd2330c.png" alt="img" loading="lazy"></p>
<p><strong>å®ä½“ç±»æ·»åŠ deleted å­—æ®µ</strong></p>
<p>å¹¶åŠ ä¸Š @TableLogic æ³¨è§£ å’Œ @TableField(fill = FieldFill.INSERT) æ³¨è§£</p>
<pre class="language-none"><code class="language-none">@TableLogic
@TableField(fill &#x3D; FieldFill.INSERT)&#x2F;&#x2F;ä¹Ÿå¯ä»¥è®¾ç½®æ•°æ®åº“defaultå€¼
private Integer deleted;</code></pre>
<p><strong>å…ƒå¯¹è±¡å¤„ç†å™¨æ¥å£æ·»åŠ deletedçš„inserté»˜è®¤å€¼</strong></p>
<pre class="language-none"><code class="language-none">@Override
public void insertFill(MetaObject metaObject) &#123;
    this.setFieldValByName(&quot;deleted&quot;, 0, metaObject);
&#125;</code></pre>
<p><strong>application.properties åŠ å…¥é…ç½®</strong></p>
<p>æ­¤ä¸ºé»˜è®¤å€¼ï¼Œå¦‚æœä½ çš„é»˜è®¤å€¼å’Œmpé»˜è®¤çš„ä¸€æ ·,è¯¥é…ç½®å¯æ— </p>
<pre class="language-none"><code class="language-none">mybatis-plus:
  global-config:
    db-config:
      logic-delete-field: flag  # å…¨å±€é€»è¾‘åˆ é™¤çš„å®ä½“å­—æ®µå(since 3.3.0,é…ç½®åå¯ä»¥ä¸ç”¨å¾€flagå­—æ®µä¸ŠåŠ @TableLogicæ³¨è§£)
      logic-delete-value: 1 # é€»è¾‘å·²åˆ é™¤å€¼(é»˜è®¤ä¸º 1)
      logic-not-delete-value: 0 # é€»è¾‘æœªåˆ é™¤å€¼(é»˜è®¤ä¸º 0)</code></pre>
<p><strong>åœ¨ MybatisPlusConfig ä¸­æ³¨å†Œ Bean</strong></p>
<pre class="language-none"><code class="language-none">@Bean
public ISqlInjector sqlInjector() &#123;
    return new LogicSqlInjector();
&#125;</code></pre>
<h2 id="æ€§èƒ½åˆ†æ"><a href="#æ€§èƒ½åˆ†æ" class="headerlink" title="æ€§èƒ½åˆ†æ"></a>æ€§èƒ½åˆ†æ</h2><blockquote>
<p> è¯¥åŠŸèƒ½ä¾èµ– <code>p6spy</code> ç»„ä»¶ï¼Œå®Œç¾çš„è¾“å‡ºæ‰“å° SQL åŠæ‰§è¡Œæ—¶é•¿ <code>3.1.0</code> ä»¥ä¸Šç‰ˆæœ¬</p>
</blockquote>
<ul>
<li>p6spy ä¾èµ–å¼•å…¥</li>
</ul>
<p>Mavenï¼š</p>
<pre class="language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>p6spy<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>p6spy<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>æœ€æ–°ç‰ˆæœ¬<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span></code></pre>
<ul>
<li>application.yml é…ç½®ï¼š</li>
</ul>
<pre class="language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">datasource</span><span class="token punctuation">:</span>
    <span class="token key atrule">driver-class-name</span><span class="token punctuation">:</span> com.p6spy.engine.spy.P6SpyDriver
    <span class="token key atrule">url</span><span class="token punctuation">:</span> jdbc<span class="token punctuation">:</span>p6spy<span class="token punctuation">:</span>mysql<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span>3306/æ•°æ®åº“å
    <span class="token punctuation">...</span></code></pre>
<ul>
<li>spy.properties é…ç½®ï¼š</li>
</ul>
<pre class="language-properties" data-language="properties"><code class="language-properties"><span class="token comment">#3.2.1ä»¥ä¸Šä½¿ç”¨</span>
<span class="token attr-name">modulelist</span><span class="token punctuation">=</span><span class="token attr-value">com.baomidou.mybatisplus.extension.p6spy.MybatisPlusLogFactory,com.p6spy.engine.outage.P6OutageFactory</span>
<span class="token comment">#3.2.1ä»¥ä¸‹ä½¿ç”¨æˆ–è€…ä¸é…ç½®</span>
<span class="token comment">#modulelist=com.p6spy.engine.logging.P6LogFactory,com.p6spy.engine.outage.P6OutageFactory</span>
<span class="token comment"># è‡ªå®šä¹‰æ—¥å¿—æ‰“å°</span>
<span class="token attr-name">logMessageFormat</span><span class="token punctuation">=</span><span class="token attr-value">com.baomidou.mybatisplus.extension.p6spy.P6SpyLogger</span>
<span class="token comment">#æ—¥å¿—è¾“å‡ºåˆ°æ§åˆ¶å°</span>
<span class="token attr-name">appender</span><span class="token punctuation">=</span><span class="token attr-value">com.baomidou.mybatisplus.extension.p6spy.StdoutLogger</span>
<span class="token comment"># ä½¿ç”¨æ—¥å¿—ç³»ç»Ÿè®°å½• sql</span>
<span class="token comment">#appender=com.p6spy.engine.spy.appender.Slf4JLogger</span>
<span class="token comment"># è®¾ç½® p6spy driver ä»£ç†</span>
<span class="token attr-name">deregisterdrivers</span><span class="token punctuation">=</span><span class="token attr-value">true</span>
<span class="token comment"># å–æ¶ˆJDBC URLå‰ç¼€</span>
<span class="token attr-name">useprefix</span><span class="token punctuation">=</span><span class="token attr-value">true</span>
<span class="token comment"># é…ç½®è®°å½• Log ä¾‹å¤–,å¯å»æ‰çš„ç»“æœé›†æœ‰error,info,batch,debug,statement,commit,rollback,result,resultset.</span>
<span class="token attr-name">excludecategories</span><span class="token punctuation">=</span><span class="token attr-value">info,debug,result,commit,resultset</span>
<span class="token comment"># æ—¥æœŸæ ¼å¼</span>
<span class="token attr-name">dateformat</span><span class="token punctuation">=</span><span class="token attr-value">yyyy-MM-dd HH:mm:ss</span>
<span class="token comment"># å®é™…é©±åŠ¨å¯å¤šä¸ª</span>
<span class="token comment">#driverlist=org.h2.Driver</span>
<span class="token comment"># æ˜¯å¦å¼€å¯æ…¢SQLè®°å½•</span>
<span class="token attr-name">outagedetection</span><span class="token punctuation">=</span><span class="token attr-value">true</span>
<span class="token comment"># æ…¢SQLè®°å½•æ ‡å‡† 2 ç§’</span>
<span class="token attr-name">outagedetectioninterval</span><span class="token punctuation">=</span><span class="token attr-value">2</span></code></pre>
<blockquote>
<p>æ³¨æ„ï¼</p>
<ul>
<li>driver-class-name ä¸º p6spy æä¾›çš„é©±åŠ¨ç±»</li>
<li>url å‰ç¼€ä¸º jdbc:p6spy è·Ÿç€å†’å·ä¸ºå¯¹åº”æ•°æ®åº“è¿æ¥åœ°å€</li>
<li>æ‰“å°å‡ºsqlä¸ºnull,åœ¨excludecategorieså¢åŠ commit</li>
<li>æ‰¹é‡æ“ä½œä¸æ‰“å°sql,å»é™¤excludecategoriesä¸­çš„batch</li>
<li>æ‰¹é‡æ“ä½œæ‰“å°é‡å¤çš„é—®é¢˜è¯·ä½¿ç”¨MybatisPlusLogFactory (3.2.1æ–°å¢ï¼‰</li>
<li>è¯¥æ’ä»¶æœ‰æ€§èƒ½æŸè€—ï¼Œä¸å»ºè®®ç”Ÿäº§ç¯å¢ƒä½¿ç”¨ã€‚</li>
</ul>
</blockquote>
</div><ul class="post-copyright"><li class="post-copyright-author"><strong>æœ¬æ–‡ä½œè€…ï¼š</strong>gzj</li><li class="post-copyright-link"><strong>æœ¬æ–‡é“¾æ¥ï¼š</strong><a href="https://zzugzj.github.io/posts/13667b25/" title="mybatisPlusç¬”è®°">https://zzugzj.github.io/posts/13667b25/</a></li><li class="post-copyright-license"><strong>ç‰ˆæƒå£°æ˜ï¼š</strong>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é»˜è®¤é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener" title="CC BY-NC-SA 4.0 "><svg class="icon"><use xlink:href="#icon-creative-commons-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-by-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-nc-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-sa-line"></use></svg></a> è®¸å¯åè®®ã€‚</li></ul></section></article><div class="post-nav"><div class="post-nav-item"><a class="post-nav-prev" href="/posts/a0d99dad/" rel="prev" title="Mavenå®æˆ˜ç¬”è®°"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-left-s-line"></use></svg><span class="post-nav-text">Mavenå®æˆ˜ç¬”è®°</span></a></div><div class="post-nav-item"><a class="post-nav-next" href="/posts/7a7ff038/" rel="next" title="Gitåˆ†æ”¯"><span class="post-nav-text">Gitåˆ†æ”¯</span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-right-s-line"></use></svg></a></div></div></div><div id="comment"><div class="comment-tooltip text-center"><span>ç‚¹å‡»æŒ‰é’®è·³è½¬ GitHub Issues è¯„è®ºã€‚</span><br><span>è‹¥æ²¡æœ‰æœ¬æ–‡ Issueï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ Comment æ¨¡ç‰ˆæ–°å»ºã€‚</span><br><a class="hty-button hty-button--raised" id="github-issues" target="_blank" rel="noopener" href="https://github.com/zzugzj/zzugzj.github.io/issues?q=is:issue+mybatisPlusç¬”è®°">GitHub Issues</a></div></div></main><footer class="sidebar-translate" id="footer"><div class="copyright"><span>&copy; 2020 â€“ 2021 </span><span class="with-love" id="animate"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-cloud-line"></use></svg></span><span class="author"> gzj</span></div><div class="powered"><span>ç”± <a href="https://hexo.io" target="_blank" rel="noopener">Hexo</a> é©±åŠ¨ v5.3.0</span><span class="footer-separator">|</span><span>ä¸»é¢˜ - <a rel="noopener" href="https://github.com/YunYouJun/hexo-theme-yun" target="_blank"><span>Yun</span></a> v1.3.0</span></div><div class="live_time"><span>æœ¬åšå®¢å·²è¿è¡Œ</span><span id="display_live_time"></span><span class="moe-text">(â—'â—¡'â—)</span><script>function blog_live_time() {
  window.setTimeout(blog_live_time, 1000);
  const start = new Date('2020-12-31T00:00:00');
  const now = new Date();
  const timeDiff = (now.getTime() - start.getTime());
  const msPerMinute = 60 * 1000;
  const msPerHour = 60 * msPerMinute;
  const msPerDay = 24 * msPerHour;
  const passDay = Math.floor(timeDiff / msPerDay);
  const passHour = Math.floor((timeDiff % msPerDay) / 60 / 60 / 1000);
  const passMinute = Math.floor((timeDiff % msPerHour) / 60 / 1000);
  const passSecond = Math.floor((timeDiff % msPerMinute) / 1000);
  display_live_time.innerHTML = " " + passDay + " å¤© " + passHour + " å°æ—¶ " + passMinute + " åˆ† " + passSecond + " ç§’";
}
blog_live_time();
</script></div></footer><a class="hty-icon-button" id="goUp" aria-label="back-to-top" href="#"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-up-s-line"></use></svg><svg class="progress-circle-container" viewBox="0 0 100 100"><circle class="progress-circle" id="progressCircle" cx="50" cy="50" r="48" fill="none" stroke="#0078E7" stroke-width="2" stroke-linecap="round"></circle></svg></a><a class="popup-trigger hty-icon-button icon-search" id="search" href="javascript:;" title="æœç´¢"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-search-line"></use></svg></span></a><script>window.addEventListener("DOMContentLoaded", () => {
  // Handle and trigger popup window
  document.querySelector(".popup-trigger").addEventListener("click", () => {
    document.querySelector(".popup").classList.add("show");
    setTimeout(() => {
      document.querySelector(".search-input").focus();
    }, 100);
  });

  // Monitor main search box
  const onPopupClose = () => {
    document.querySelector(".popup").classList.remove("show");
  };

  document.querySelector(".popup-btn-close").addEventListener("click", () => {
    onPopupClose();
  });

  window.addEventListener("keyup", event => {
    if (event.key === "Escape") {
      onPopupClose();
    }
  });
});
</script><script src="/js/search/local-search.js" defer></script><div class="popup search-popup"><div class="search-header"><span class="popup-btn-close close-icon hty-icon-button"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-close-line"></use></svg></span></div><div class="search-input-container"><input class="search-input" id="local-search-input" type="text" placeholder="æœç´¢..." value=""></div><div id="local-search-result"></div></div><div class="aplayer no-destroy" id="aplayer" data-id="7840106285" data-server="tencent" data-type="playlist" data-fixed="true" data-theme="#0078E7" data-loop="all" data-order="list" data-preload="auto" data-volume="0.7" data-mutex data-lrctype="0" data-listmaxheight="340px" data-storagename="metingjs"></div></div><script defer src="/js/utils.js"></script><script defer src="/js/hexo-theme-yun.js"></script></body></html>